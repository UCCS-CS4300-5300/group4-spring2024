<!-- machine_list.html -->

{% extends 'base.html' %} 

{% block title %}Machines at {{ laundromat.name }}{% endblock %} 

{% block content %}

<div class="container">
  <h1 class="mt-4">Machines at {{ laundromat.name }}</h1>
  {% if machine_list %}
  <div class="list-group mt-4">
    <div class="row mt-4">
      {% for machine in machine_list %}
      <div class="col-md-4 mb-2">
        <div class="card h-100">
          <div class="card-body text-center">
            <h5 class="card-title">{{ machine.machine_choice }}</h5>
            <p class="mb-1">Machine ID: {{ machine.machine_ID }}</p>
            <!-- Image placeholder, replace "#" with the actual image URL -->
            <img class="machine-image img-fluid" src="#" alt="{{ machine.machine_choice }}" />
            <div class="mt-3">
              <!-- Placeholder for status, modify as needed -->
              <span class="badge {% if machine.status == 'Open' %}bg-success{% else %}bg-secondary{% endif %} text-white">{{ machine.status }}</span>
            </div>
            <!-- Commented out the reservation button as it's not required currently -->
            <!-- <div class="mt-3">
              <button
                type="button"
                class="btn btn-primary"
                onclick="window.location.href='{% url 'reserve_machine' machine_id=machine.pk %}'"
              >
                Make reservation
              </button>
            </div> -->
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
  {% else %}
  <div class="alert alert-info mt-4" role="alert">
    There are no machines available in {{ laundromat.name }}.
  </div>
  {% endif %}
</div>

{% endblock %}
